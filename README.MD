```markdown
# ğŸŸ© Minecraft Docker + Tailscale (MC Tool)

A system to manage **multiple Minecraft servers** using **Docker Compose**, with private access via **Tailscale**, and a unified `mc` command to control everything from any PC with zero friction.

Designed for:
- No public ports
- No hardcoded servers
- Easy scaling
- Daily usage without operational pain

---

## ğŸ“¦ Requirements

Before starting, make sure you have:

- Docker
- Docker Compose (the `docker compose` plugin)
- Tailscale (already authenticated on the host)
- Bash or Zsh
- Git

> âš ï¸ Tailscale does **not** run inside Docker. It uses the hostâ€™s Tailscale connection.

---

## ğŸ“ Project structure

```

minecraft/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ mc
â”œâ”€â”€ init.sh
â”œâ”€â”€ .gitignore
â””â”€â”€ servers/
    â”œâ”€â”€ survival/
    â”‚   â””â”€â”€ data/
    â”œâ”€â”€ creative/
    â”‚   â””â”€â”€data/
    â””â”€â”€ modded/
        â””â”€â”€ data/

````

Each folder represents **one independent Minecraft server**.

---

## ğŸš€ Installation (once per PC)

```bash
git clone https://github.com/knameless27/mc-admin.git
cd minecraft
chmod +x init.sh mc
./init.sh
source ~/.bashrc   # or ~/.zshrc
````

This will:

* Register the repo path as `MC_HOME`
* Add the `mc` command to your `PATH`
* Avoid duplicating configuration if already installed

---

## ğŸ® The `mc` command

The `mc` command is the **single control interface** for the whole system.

### ğŸ“‹ List servers

```bash
mc list
```

### â–¶ï¸ Start servers

```bash
mc up              # all servers
mc up survival     # a specific server
```

### ğŸ›‘ Stop everything

```bash
mc down
```

### ğŸ”„ Restart a server

```bash
mc restart modded
```

### ğŸ“œ View logs

```bash
mc logs survival
```

### ğŸ“Š Status

```bash
mc ps
```

---

## ğŸ§  Run commands inside the server (RCON)

Run Minecraft commands **without entering the container**.

```bash
mc exec survival op Jefe
mc exec survival weather clear
mc exec survival time set day
mc exec modded say Server will restart in 5 minutes
```

This uses the built-in `rcon-cli` provided by the `itzg/minecraft-server` image.

âš ï¸ Make sure the service has RCON enabled:

```yaml
environment:
  ENABLE_RCON: "true"
```

---

## â• Adding a new server

1. Add a service to `docker-compose.yml`:

```yaml
skyblock:
  image: itzg/minecraft-server
  container_name: mc-skyblock
  ports:
    - "25568:25565"
  environment:
    EULA: "TRUE"
    TYPE: PAPER
  volumes:
    - ./skyblock/data:/data
```

2. Create the folder:

```bash
mkdir -p skyblock/data
touch skyblock/data/.gitkeep
```

3. Start it:

```bash
mc up skyblock
```

ğŸš« No aliases or scripts need to be modified.

---

## ğŸŒ Access via Tailscale

1. Get your Tailscale IP:

```bash
tailscale ip -4
```

2. Connect from Minecraft:

```
<tailscale-ip>:25565
<tailscale-ip>:25566
```

ğŸ”’ Access is limited to devices in your tailnet
ğŸ”’ No public ports exposed

---

## â¬†ï¸ Upgrading Minecraft versions (Vanilla / Paper)

### 1ï¸âƒ£ Backup (mandatory)

```bash
docker stop mc-vanilla
tar -czf backup-vanilla-$(date +%F).tar.gz vanilla/data
```

### 2ï¸âƒ£ Change version

```yaml
environment:
  VERSION: "1.21"
```

### 3ï¸âƒ£ Start the server

```bash
mc up vanilla
mc logs vanilla
```

Minecraft will automatically apply **DataFixer** to migrate the world.

âš ï¸ Never downgrade versions.

---

## ğŸ§¾ .gitignore

The project ignores:

* Worlds
* Logs
* Downloaded plugins / mods
* Local runtime files

Only infrastructure and tooling are versioned.

---

## ğŸ§¬ Design philosophy

* `docker-compose.yml` is the **single source of truth**
* `mc` is the **only command you need**
* `init.sh` runs **once**
* No hardcoded servers
* Works the same on every PC

---

## ğŸ› ï¸ Possible extensions

* `mc new <name>` â†’ auto-create a server
* Bash/Zsh tab-completion
* Automated backups
* Test/staging servers
* Per-server Tailscale ACLs

---

## ğŸŸ¢ TL;DR

```bash
mc list
mc up survival
mc exec survival op Jefe
mc logs survival
mc down
```

System ready. Zero friction operations.

```